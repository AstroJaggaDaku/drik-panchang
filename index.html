<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>51Kalibari Swiss Panchang</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:Inter,system-ui;
  background:radial-gradient(circle at top,#1c2440,#06070d 80%);
  color:#f6f7fb;
}
.container{max-width:1200px;margin:40px auto;padding:20px}
.card{
  background:linear-gradient(160deg,#141a35,#1e2650);
  border-radius:24px;
  padding:30px;
  box-shadow:0 0 70px rgba(0,0,0,.7);
}
.header{text-align:center;margin-bottom:30px}
.header h1{color:#ffd580;margin:0;font-size:30px}
.sub{color:#aab0ff;font-size:14px;margin-top:6px}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:18px;
}
.block{
  background:#0d1228;
  border-radius:16px;
  padding:18px;
}
.label{color:#aab0ff;font-size:13px}
.value{font-size:18px;font-weight:600;margin-top:6px}

.section-title{
  margin-top:30px;
  margin-bottom:10px;
  color:#ffd580;
  font-weight:700;
  font-size:18px;
}
.hora-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:10px;
}
.hora-box{
  background:#0d1228;
  border-radius:12px;
  padding:10px;
  text-align:center;
}

.footer{
  margin-top:30px;
  text-align:center;
  font-size:13px;
  color:#999;
}
</style>
</head>

<body>
<div class="container">
<div class="card">

<div class="header">
<h1>üîÆ 51Kalibari Swiss Panchang</h1>
<div id="todayDate" class="sub"></div>
<div class="sub">Swiss Ephemeris ‚Ä¢ Lahiri ‚Ä¢ Astrologer Joydev Sastri</div>
</div>

<div id="mainGrid" class="grid"></div>

<div class="section-title">‚è∞ Hora (Planetary Hours)</div>
<div id="horaGrid" class="hora-grid"></div>

<div class="footer">
¬© 51Kalibari.com ‚Äî Powered by Swiss Ephemeris
</div>

</div>
</div>

<script>
const API="https://panchang-python.onrender.com/panchang";

fetch(API)
.then(r=>r.json())
.then(p=>{

  /* Force today date for display */
  const today=new Date();
  document.getElementById("todayDate").innerHTML =
    today.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"});

  function box(l,v){
    return `<div class="block"><div class="label">${l}</div><div class="value">${v||"‚Äî"}</div></div>`;
  }

  document.getElementById("mainGrid").innerHTML=`
    ${box("Tithi",p.tithi)}
    ${box("Tithi Ends",p.tithi_end)}
    ${box("Nakshatra",p.nakshatra)}
    ${box("Nakshatra Ends",p.nakshatra_end)}
    ${box("Yoga",p.yoga)}
    ${box("Yoga Ends",p.yoga_end)}
    ${box("Karana",p.karana)}
    ${box("Paksha",p.paksha)}
    ${box("Moon Sign",p.moon_sign)}
    ${box("Sunrise",p.sunrise)}
    ${box("Sunset",p.sunset)}
    ${box("Moonrise",p.moonrise)}
    ${box("Moonset",p.moonset)}
    ${box("Amanta Month",p.amanta_month)}
    ${box("Purnimanta Month",p.purnimanta_month)}
    ${box("Ritu",p.ritu)}
    ${box("Festival",p.festival)}
    ${box("Varjyam",p.varjyam==="Yes"?"‚ùå Inauspicious":"‚úÖ Auspicious")}
    ${box("Abhijit",p.abhijit)}
    ${box("Rahu Kalam",p.rahu_kalam)}
    ${box("Yamaganda",p.yamaganda)}
    ${box("Gulika",p.gulika)}
  `;

  /* Hora */
  const h=p.hora||[];
  document.getElementById("horaGrid").innerHTML=
    h.map(x=>`<div class="hora-box"><b>${x.lord}</b><br>${x.from} ‚Äì ${x.to}</div>`).join("");

});
</script>

</body>
</html>
